"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[27],{48433:function(n,e,t){var r=t(58344),i=t(9268),a=t(86006),o=t(21007),u=t(81771),s=t(5793),c=t(39714),l=t(14240),h=t(40849),f=t(601),d=t(47931),p=t(91561),m=t(88913),x=t(19834),v=t(95457),_=t(69881),g=t(56008),E=["Baixar Aplicativo"],y=(0,v.ZP)(c.Z)(function(n){return{color:n.theme.palette.grey[100],marginLeft:-6}}),b=(0,v.ZP)(_.Z)(function(n){return{color:n.theme.palette.grey[100]}}),U=(0,v.ZP)("img")(function(n){return n.theme,{height:40}});e.Z=function(n){var e=n.position,t=n.color,c=n.elevation,v=(0,g.useRouter)(),_=(0,r._)(a.useState(null),2),I=_[0],C=_[1],S=(0,r._)(a.useState(null),2);S[0],S[1];var j=function(n){"Baixar Aplicativo"===n&&v.push("https://play.google.com/store/apps/details?id=com.amashopping")};return(0,i.jsx)(o.Z,{elevation:c||0,color:t||"transparent",position:e||"absolute",children:(0,i.jsx)(u.Z,{children:(0,i.jsxs)(s.Z,{children:[(0,i.jsx)(b,{variant:"h4",noWrap:!0,component:"a",href:"/",sx:{mr:2,display:{xs:"none",md:"flex"},fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",textDecoration:"none"},children:(0,i.jsx)(U,{src:"/assets/img/logomarca_ama.png",sx:{display:{xs:"none",md:"flex"},mr:1}})}),(0,i.jsxs)(u.Z,{sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:[(0,i.jsx)(y,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(n){C(n.currentTarget)},children:(0,i.jsx)(f.Z,{fontSize:"medium"})}),(0,i.jsx)(h.Z,{id:"menu-appbar",anchorEl:I,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:!!I,onClose:function(){C(null)},sx:{display:{xs:"block",md:"none"}},children:E.map(function(n){return(0,i.jsx)(m.Z,{onClick:function(){return j(n)},children:(0,i.jsx)(l.Z,{textAlign:"center",children:n})},n)})})]}),(0,i.jsx)(b,{variant:"h5",noWrap:!0,component:"a",href:"/",sx:{mr:2,display:{xs:"flex",md:"none"},flexGrow:1,fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",textDecoration:"none"},children:(0,i.jsx)(U,{src:"/assets/img/logomarca_ama.png",sx:{display:{xs:"flex",md:"none"},mr:1}})}),(0,i.jsx)(u.Z,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}},children:E.map(function(n){return(0,i.jsx)(d.Z,{onClick:function(){return j(n)},sx:{color:"white",display:"block"},children:n},n)})}),(0,i.jsx)(u.Z,{sx:{flexGrow:0},children:(0,i.jsx)(p.Z,{title:"Carrinho de Compras",children:(0,i.jsx)(y,{onClick:function(){return v.push("/carrinho")},sx:{p:0},children:(0,i.jsx)(x.Z,{fontSize:"medium"})})})})]})})})}},78620:function(n,e,t){t.d(e,{Z:function(){return o}});var r=t(9268),i=t(81771),a=t(14864),o=function(){return(0,r.jsxs)(i.Z,{style:{display:"flex",flexDirection:"column",padding:40,height:"100%"},justifyContent:"center",alignContent:"center",alignItems:"center",children:[(0,r.jsx)("img",{src:"/assets/img/logo_amashop.png",alt:"",height:"",width:"",className:"w-[250px] object-contain"}),(0,r.jsx)(a.Z,{style:{color:"#02A676"}})]})}},94844:function(n,e,t){t.d(e,{ZP:function(){return d},aF:function(){return p}});var r=t(86312),i=t(58344),a=t(78466),o=t(9268),u=t(86006),s=t(51598),c=t(24734),l=t(6936),h=t(98521),f=(0,u.createContext)();function d(n){var e,t,d=n.children,p=(0,i._)((0,u.useState)(null),2),m=p[0],x=p[1],v=(0,i._)((0,u.useState)(!0),2),_=v[0],g=v[1];(0,u.useEffect)(function(){var n,e,t=(0,s.L)(),i=(0,c.v0)(t),o=(n=(0,r._)(function(){return(0,a.Jh)(this,function(n){switch(n.label){case 0:return[4,(0,c.XB)(i).then(function(){})];case 1:return n.sent(),[2]}})}),function(){return n.apply(this,arguments)}),u=(0,c.Aj)(i,(e=(0,r._)(function(n){var e;return(0,a.Jh)(this,function(t){switch(t.label){case 0:return t.trys.push([0,1,2,5]),n?(e=n.uid,x({uid:e,displayName:n.displayName,email:n.email,photoURL:n.photoURL})):x(null),[3,5];case 1:return t.sent(),[3,5];case 2:if(n)return[3,4];return[4,o()];case 3:t.sent(),t.label=4;case 4:return g(!1),[7];case 5:return[2]}})}),function(n){return e.apply(this,arguments)}));return function(){return u()}},[]);var E=(e=(0,r._)(function(n,e,t,i){var o,u,s;return(0,a.Jh)(this,function(f){switch(f.label){case 0:return o={uid:n.uid,nome:e,phone:t,email:i,chave:"",dataCadastro:Date.now(),cpf:"",foto:"",typeUser:1,enderecoPrincipal:null,restricoes:[],anexos:[],interesses:[],produtosFavoritos:[],termosPesquisados:[],vistoPorUltimo:[],uidAdm:"",nomeAdm:"",chaveAdm:""},u=(0,l.hJ)(h.db,"Usuario"),s=(0,l.JU)(u,n.uid),[4,(0,l.pl)(s,o).then((0,r._)(function(){return(0,a.Jh)(this,function(t){switch(t.label){case 0:return[4,(0,c.ck)(n,{displayName:e})];case 1:return t.sent(),[2,!0]}})})).catch(function(n){return!1})];case 1:return f.sent(),[2]}})}),function(n,t,r,i){return e.apply(this,arguments)});function y(){return(y=(0,r._)(function(n){var e,t,r,i;return(0,a.Jh)(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),console.log("queryUserByEmail"),e=(0,l.hJ)(h.db,"Usuario"),t=(0,l.IO)(e,(0,l.ar)("email","==",n)),[4,(0,l.PL)(t)];case 1:if((r=a.sent()).empty)return[2,null];if((i=r.docs[0].data()).uid)return[2,i.uid];return[2,null];case 2:return console.log(a.sent()),[2,null];case 3:return[2]}})})).apply(this,arguments)}var b=(t=(0,r._)(function(n,e,t){var r,i,o,u,l;return(0,a.Jh)(this,function(a){switch(a.label){case 0:if(r=(0,s.L)(),!(i=(0,c.v0)(r).currentUser))return[2,null];if(!(i&&i.isAnonymous))return[3,6];return o=c.w9.credential(n,String(Date.now())),[4,(0,c.ZJ)(i,o).then(function(n){return n}).catch(function(n){return null})];case 1:if(!(u=a.sent()))return[3,3];return[4,E(u.user,e,t,n)];case 2:return a.sent(),[2,null==u?void 0:null===(l=u.user)||void 0===l?void 0:l.uid];case 3:return[4,function(n){return y.apply(this,arguments)}(n)];case 4:return[2,a.sent()];case 5:return[3,7];case 6:return[2,null==i?void 0:i.uid];case 7:return[2]}})}),function(n,e,r){return t.apply(this,arguments)});return(0,o.jsx)(f.Provider,{value:{user:m,setUser:x,loadingUser:_,getUidUserWithEmailAuth:b},children:d})}var p=function(){return(0,u.useContext)(f)}},52716:function(n,e,t){t.d(e,{V8:function(){return c},Xq:function(){return a},_G:function(){return o},jT:function(){return s},or:function(){return u}});var r=t(6936),i=t(98521);function a(n,e,t){var a=(0,r.JU)((0,r.hJ)(i.db,"Carrinho","Usuario",n)),o=(0,r.qs)(i.db);e.idItem=a.id,o.set(a,e),o.commit().then(function(){return t(!0)}).catch(function(n){return t(!1)})}function o(n,e){var t=(0,r.hJ)(i.db,"Carrinho","Usuario",n),a=(0,r.IO)(t);(0,r.cf)(a,function(n){n.empty&&e([]);var t=[];n.forEach(function(n){t.push(n.data())}),e(t)},function(n){return e([])})}function u(n,e,t){var a=(0,r.hJ)(i.db,"Carrinho","Usuario",n),o=(0,r.qs)(i.db);e.map(function(n){var e=(0,r.JU)(a,n.idItem);o.delete(e)}),o.commit().then(function(){return t(!0)}).catch(function(n){return t(!1)})}function s(n,e,t){var a=(0,r.hJ)(i.db,"Carrinho","Usuario",n),o=(0,r.qs)(i.db),u=(0,r.JU)(a,e);o.delete(u),o.commit().then(function(){return t(!0)}).catch(function(n){return t(!1)})}function c(n,e,t,a){var o=(0,r.hJ)(i.db,"Carrinho","Usuario",e),u=(0,r.qs)(i.db),s=(0,r.JU)(o,t);u.update(s,{quantidade:n}),u.commit().then(function(){return a(!0)}).catch(function(n){return a(!1)})}},26449:function(n,e,t){t.d(e,{B:function(){return c}});var r,i=t(86312),a=t(78466),o=t(6936),u=t(98521),s=(0,o.hJ)(u.db,"Produtos"),c=(r=(0,i._)(function(n){var e;return(0,a.Jh)(this,function(t){switch(t.label){case 0:return[4,(0,o.QT)((0,o.JU)(s,n))];case 1:if(!(e=t.sent()).exists)return[2,null];return[2,e.data()]}})}),function(n){return r.apply(this,arguments)});(0,i._)(function(n){var e,t,r;return(0,a.Jh)(this,function(i){switch(i.label){case 0:return e=(0,o.IO)(s,(0,o.ar)("id",">=",n)),[4,(0,o.PL)(e)];case 1:if((t=i.sent()).empty)return[2,null];return r=null,t.forEach(function(e){var t=e.data(),i=String(n).slice(2,n.length-5);if(String(t.nome).includes(i)){r=t;return}}),[2,r]}})})},51598:function(n,e,t){t.d(e,{L:function(){return a}});var r=t(1313);t(76551);var i=t(52040),a=function(){return(i.env.NEXT_PUBLIC_FIREBASE_API_KEY,i.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,i.env.NEXT_PUBLIC_FIREBASE_DATABASE_URL,i.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,i.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,i.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,i.env.NEXT_PUBLIC_FIREBASE_APP_ID,i.env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID,0!==(0,r.C6)().length)?(0,r.Mq)():(0,r.ZF)({apiKey:"AIzaSyDxF4_yts6ytjHFJ9eMWBeBS4LSSDidLww",authDomain:"amashop-rapha.firebaseapp.com",databaseURL:"https://amashop-rapha-default-rtdb.firebaseio.com",projectId:"amashop-rapha",storageBucket:"amashop-rapha.appspot.com",messagingSenderId:"1023419364736",appId:"1:1023419364736:web:3dcfa3279b19b4a6d37d65",measurementId:"G-RM7L7MGJF9"})}},98521:function(n,e,t){t.d(e,{db:function(){return a}});var r=t(6936),i=t(51598),a=(0,r.LV)((0,i.L)(),{experimentalForceLongPolling:!0,localCache:(0,r.ms)()})}}]);