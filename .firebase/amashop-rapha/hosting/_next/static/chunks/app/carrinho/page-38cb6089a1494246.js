(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[521],{6808:function(e,n,t){Promise.resolve().then(t.bind(t,66130))},66130:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return eL}});var r,i=t(86312),a=t(58344),o=t(62805),s=t(78466),l=t(9268),c=t(86006),d=t(95457),u=t(64066),x=t(14240),m=t(81771),p=t(89843),h=t(77986),f=t(56429),g=t(67755),j=t(21630),b=t(35846),Z=t.n(b),v=t(47931),y=t(52716);function P(){var e=(0,o._)(["\n  padding-top: 32px;\n  padding-bottom: 32px;\n  background-color: #ffffff;\n  border-color: #008c7225;\n  border-width: 2px;\n  border-radius: 16px;\n  order: 3;\n  "," {\n    order: 1;\n  }\n"]);return P=function(){return e},e}function N(){var e=(0,o._)(["\n  width: 110px;\n  color: #828282;\n  vertical-align: middle;\n  border-bottom: 1px solid #e4e4e4;\n  border-top: 0;\n  padding: 25px 10px;\n  line-height: 28px;\n  "," {\n    position: absolute;\n    left: 0;\n    width: 80px;\n    display: inline-block;\n    top: 0;\n    overflow: hidden;\n    text-align: left;\n    border: none;\n    margin-bottom: 10px;\n    padding: 0;\n    &::before {\n      content: attr(data-title);\n      font-weight: 500;\n      float: left;\n      display: block;\n      color: #232323;\n      font-family: Poppins, sans-serif;\n      font-size: 12px;\n    }\n  }\n  "," {\n    position: relative;\n  }\n"]);return N=function(){return e},e}var C=(0,d.ZP)(u.ZP)(P(),function(e){return e.theme.breakpoints.up("md")}),_=(0,d.ZP)("td")(N(),function(e){return e.theme.breakpoints.down("lg")},function(e){return e.theme.breakpoints.down("sm")}),k=(0,d.ZP)(m.Z)(function(e){var n=e.theme;return{backgroundColor:n.palette.background.paper,borderRadius:n.shape.borderRadius,marginTop:n.spacing(1)}}),w=(0,d.ZP)(x.Z)(function(e){var n=e.theme;return{fontSize:"18px",fontWeight:"bold",marginBottom:n.spacing(2),color:n.palette.primary.main}}),q=(0,d.ZP)(m.Z)(function(e){return{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:e.theme.spacing(1)}}),I=(0,d.ZP)(x.Z)(function(e){return{fontWeight:"bold",color:e.theme.palette.text.primary}}),M=(0,d.ZP)(m.Z)(function(e){var n=e.theme;return{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:n.spacing(2),paddingBottom:n.spacing(3),borderBottom:"1px solid ".concat(n.palette.grey[300])}}),S=function(e){var n=e.produto,t=e.itens,r=e.setItensCart,i=e.user,o=(0,a._)((0,c.useState)(0),2),s=o[0],d=o[1];if(!t)return null;var u=0;t.map(function(e,n){u+=e.valor*e.quantidade});var m=function(e,a){n||(null==t||t.slice(a,1),r(t),(0,y.jT)(i.uid,e,function(e){}))},p=function(e,a,o){if(!(o<1)){if(n){var s=t[0];r([(0,f._)((0,h._)({},s),{quantidade:o})]);return}(0,y.V8)(o,i.uid,e,function(){})}};return(0,l.jsx)(C,{item:!0,xs:12,sm:8,md:6,lg:7,className:"px-[70px] pt-[50px]  lg:px-[40px] md:px-[25px]",children:(0,l.jsxs)(g.Z,{className:"flex justify-center content-center items-end",children:[(0,l.jsx)(j.Z,{xs:12,children:(0,l.jsxs)("table",{className:"cart-products mb-0",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{className:"font-serif text-[#212529] text-start",children:[(0,l.jsx)("th",{scope:"col"}),(0,l.jsx)("th",{scope:"col"}),(0,l.jsx)("th",{scope:"col",children:"Produto"}),(0,l.jsx)("th",{scope:"col",children:"Pre\xe7o"}),(0,l.jsx)("th",{scope:"col",children:"Quantid."}),(0,l.jsx)("th",{scope:"col",children:"Total"})]})}),(0,l.jsx)("tbody",{children:t.map(function(e,t){return(0,l.jsxs)("tr",{className:"product pt-0 md:pt-6",children:[(0,l.jsx)("td",{className:"product-remove",children:!n&&(0,l.jsx)("span",{rel:"noreferrer",onClick:function(){return m(e.idItem,t)},className:"btn-default uppercase font-medium text-lg cursor-pointer hover:text-basecolor",children:"\xd7"})}),(0,l.jsx)(_,{children:(0,l.jsx)(Z(),{"aria-label":"product",href:"#",children:(0,l.jsx)("img",{className:"cart-product-image w-[180px] mt-6",width:"",height:"95.63",src:null==e?void 0:e.fotoPrincipal,alt:"product"})})}),(0,l.jsxs)("td",{className:"product-name",children:[(0,l.jsx)("a",{"aria-label":"shopping",className:"font-semibold",href:"#",children:null==e?void 0:e.nome}),(0,l.jsx)("span",{className:"variation",children:" Modelo: \xfanico"})]}),(0,l.jsx)("td",{className:"product-price text-xs","data-title":"Pre\xe7o",children:Number(null==e?void 0:e.valor).toFixed(2)}),(0,l.jsx)("td",{className:"product-quantity text-xs","data-title":"Quantidade",children:(0,l.jsxs)("div",{className:"quantity text-xs",children:[(0,l.jsx)("label",{className:"screen-reader-text",children:"Quantid."}),(0,l.jsx)("input",{type:"button",onClick:function(){return p(e.idItem,t,e.quantidade-1)},defaultValue:"-",className:"qty-minus qty-btn"}),(0,l.jsx)("input",{className:"input-text qty-text",type:"number",name:"quantity",value:e.quantidade}),(0,l.jsx)("input",{type:"button",onClick:function(){return p(e.idItem,t,e.quantidade+1)},defaultValue:"+",className:"qty-plus qty-btn"})]})}),(0,l.jsx)("td",{className:"product-subtotal text-xs","data-title":"Total",children:Number((null==e?void 0:e.valor)*(null==e?void 0:e.quantidade)).toFixed(2)})]},t)})})]})}),(0,l.jsx)(j.Z,{xs:12,className:"mb-[60px] md:mb-[40px] md:mt-0 mt-6",children:(0,l.jsxs)(k,{children:[(0,l.jsx)(w,{children:"Resumo da Compra"}),(0,l.jsxs)(q,{children:[(0,l.jsx)(x.Z,{children:"Subtotal:"}),(0,l.jsxs)(I,{children:["R$",Number(u).toFixed(2)]})]}),(0,l.jsxs)(q,{children:[(0,l.jsx)(x.Z,{children:"Taxa de Entrega:"}),(0,l.jsxs)(I,{children:["R$",Number(10).toFixed(2)]})]}),(0,l.jsxs)(M,{children:[(0,l.jsx)(x.Z,{variant:"h6",children:"Total:"}),(0,l.jsxs)(I,{variant:"h6",children:["R$",Number(u+10).toFixed(2)]})]})]})}),(0,l.jsxs)(j.Z,{md:n?12:8,className:"md:mb-[20px] flex flex-col justify-start sm:justify-center",children:[-1===s&&(0,l.jsx)(x.Z,{className:"pl-3 pb-2",color:"error",children:"C\xf3digo invalido"}),(0,l.jsxs)("div",{className:"coupon-code-panel flex w-fit sm:w-full items-center",children:[(0,l.jsx)("input",{type:"text",placeholder:"C\xf3digo promocional",className:"relative"}),(0,l.jsx)("i",{className:"feather-scissors absolute left-5"}),(0,l.jsx)("a",{"aria-label":"shopping",onClick:function(){return d(-1)},className:"btn apply-coupon-btn text-uppercase border-hidden",children:"Aplicar"})]})]}),!n&&(0,l.jsx)(j.Z,{md:4,className:"flex md:mb-[20px] justify-end sm:justify-center",children:(0,l.jsx)(v.Z,{onClick:function(){!n&&(console.log(t),t&&t.length>0&&(console.log("itens set null"),r(null),(0,y.or)(i.uid,t,function(e){})))},variant:"outlined",size:"small",color:"info",className:"btn-fancy font-medium font-serif uppercase border-[2px] rounded-none  pt-11 mr-[24px]",children:"Limpar Carrinho"})})]})})},T=t(48433),E=t(78378),R=t(91136),z=t(21176),W=t(85857),A=t(99454),F=t(50783),J=t(12455),B=t(86530),D=t(5819),U=t(14200),O=t(59527),V=t(81469),L=t(41120),G=t(14217),Q=t(96450),$=t(26626),H=t(15646),Y=t(10282),K=t(68852),X=t(70204);function ee(){var e=(0,o._)(["\n  padding-top: 32px;\n  padding-bottom: 32px;\n  padding-left: 16px;\n  padding-right: 16px;\n  background-color: #ffffff;\n  border-color: #008c7225;\n  border-width: 2px;\n  border-radius: 16px;\n  margin-bottom: 32px;\n  order: 1;\n  "," {\n    margin-bottom: 0px;\n    order: 3;\n  }\n"]);return ee=function(){return e},e}function en(){var e=(0,o._)(["\n  font-size: 24px;\n"]);return en=function(){return e},e}function et(){var e=(0,o._)(["\n  font-size: 8pt;\n  font-weight: 500;\n  text-transform: uppercase;\n  margin-bottom: 22px;\n  "," {\n    font-size: 6pt;\n  }\n"]);return et=function(){return e},e}function er(){var e=(0,o._)(["\n  margin-bottom: 20px;\n  margin-left: 0px;\n"]);return er=function(){return e},e}function ei(){var e=(0,o._)(["\n  width: 36px;\n  height: 36px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: ",";\n  color: ",";\n"]);return ei=function(){return e},e}function ea(){var e=(0,o._)(["\n  & .MuiStepConnector-line {\n    border: 1px solid #008c7281; // Cor da linha\n    border-radius: 1px; // Arredondamento da linha\n    margin-top: 6px;\n    margin-left: 4px;\n    margin-right: 4px;\n  }\n"]);return ea=function(){return e},e}var eo=(0,d.ZP)(u.ZP)(ee(),function(e){return e.theme.breakpoints.up("md")});(0,d.ZP)(x.Z)(en());var es=(0,d.ZP)(x.Z)(et(),function(e){return e.theme.breakpoints.down("sm")});(0,d.ZP)(R.Z)(er());var el=(0,d.ZP)("div")(ei(),function(e){return e.active?"#008C72":"#e0e0e0"},function(e){return e.active?"#fff":"#a5a5a5"}),ec=(0,d.ZP)(z.Z)(ea()),ed=(0,d.ZP)(W.Z)(function(e){var n=e.theme;return{color:n.palette.grey[400],"&.Mui-checked":{color:n.palette.primary.main},"& .MuiSvgIcon-root":{fontSize:30}}}),eu=(0,d.ZP)(A.Z)(function(e){var n=e.theme;return{marginBottom:n.spacing(1),marginLeft:n.spacing(0),marginRight:n.spacing(0),border:"1px solid ".concat(n.palette.grey[300]),borderRadius:n.shape.borderRadius,padding:n.spacing(1),display:"flex",alignItems:"center","& .MuiCheckbox-root":{marginRight:n.spacing(1)},"& .MuiTypography-root":{fontSize:"14px",fontWeight:500}}}),ex=(0,d.ZP)(F.Z)(function(e){return{width:"100%",display:"flex",flexDirection:"column",gap:e.theme.spacing(1)}}),em={name:"",email:"",phone:"",street:"",number:"",district:"",postalCode:"69000-001",city:"Manaus",state:"Amazonas",country:"Brasil",paymentMethod:"",observations:""},ep=[X.Ry().shape({name:X.Z_().required("Nome \xe9 obrigat\xf3rio"),email:X.Z_().email("Email inv\xe1lido").required("Email \xe9 obrigat\xf3rio"),phone:X.Z_().required("Contato \xe9 obrigat\xf3rio")}),X.Ry().shape({street:X.Z_().required("Rua \xe9 obrigat\xf3ria"),number:X.Z_().required("N\xfamero \xe9 obrigat\xf3rio"),district:X.Z_().required("Bairro \xe9 obrigat\xf3rio"),postalCode:X.Z_().required("CEP \xe9 obrigat\xf3rio"),city:X.Z_().required("Cidade \xe9 obrigat\xf3ria"),state:X.Z_().required("Estado \xe9 obrigat\xf3rio"),country:X.Z_().required("Pa\xeds \xe9 obrigat\xf3rio")}),X.Ry().shape({paymentMethod:X.Z_().required("Escolha uma forma de pagamento"),observations:X.Z_()})],eh=function(e){var n,t=e.finishOrder,r=(0,a._)((0,c.useState)(0),2),o=r[0],d=r[1],m=(n=(0,i._)(function(e,n){var r;return(0,s.Jh)(this,function(i){switch(i.label){case 0:return[4,n.validateForm()];case 1:return(r=i.sent())&&0===Object.keys(r).length?o===j.length-1?t(e):d(function(e){return e+1}):n.setTouched((0,h._)({},n.touched,Object.keys(r).reduce(function(e,n){return(0,f._)((0,h._)({},e),(0,E._)({},n,!0))},{}))),[2]}})}),function(e,t){return n.apply(this,arguments)}),p=function(){d(function(e){return e-1})},g=function(e,n,t){t("paymentMethod",n===e?"":e)},j=[{title:"Informa\xe7\xf5es",icon:(0,l.jsx)(O.Z,{})},{title:"Endere\xe7o",icon:(0,l.jsx)(V.Z,{})},{title:"Pagamento",icon:(0,l.jsx)(L.Z,{})}];return(0,l.jsx)(eo,{className:"sm:mb-28 md:mb-0",item:!0,container:!0,xs:12,sm:8,md:5,lg:4,children:(0,l.jsx)(K.J9,{initialValues:em,validationSchema:ep[o],onSubmit:function(e,n){return m(e,n)},children:function(e){var n=e.errors,t=e.touched,r=e.setFieldValue,i=e.values;return(0,l.jsxs)(K.l0,{className:"w-full",children:[(0,l.jsxs)(u.ZP,{item:!0,xs:12,children:[(0,l.jsx)(J.Z,{alternativeLabel:!0,activeStep:o,connector:(0,l.jsx)(ec,{}),children:j.map(function(e,n){return(0,l.jsx)(B.Z,{children:(0,l.jsx)(D.Z,{icon:(0,l.jsx)(el,{active:o===n,children:e.icon}),children:(0,l.jsx)(es,{children:e.title})})},n)})}),(0,l.jsx)(U.Z,{})]}),0===o&&(0,l.jsxs)(u.ZP,{container:!0,className:"py-10",spacing:2,children:[(0,l.jsx)(u.ZP,{item:!0,xs:12,children:(0,l.jsx)(K.gN,{as:R.Z,fullWidth:!0,label:"Nome",name:"name",error:t.name&&!!n.name,helperText:t.name&&n.name})}),(0,l.jsx)(u.ZP,{item:!0,xs:12,children:(0,l.jsx)(K.gN,{as:R.Z,fullWidth:!0,label:"Email",name:"email",error:t.email&&!!n.email,helperText:t.email&&n.email})}),(0,l.jsx)(u.ZP,{item:!0,xs:12,children:(0,l.jsx)(K.gN,{as:R.Z,fullWidth:!0,label:"Contato",name:"phone",error:t.phone&&!!n.phone,helperText:t.phone&&n.phone})})]}),1===o&&(0,l.jsxs)(u.ZP,{container:!0,className:"py-10",spacing:2,children:[(0,l.jsx)(u.ZP,{item:!0,xs:12,children:(0,l.jsx)(K.gN,{as:R.Z,fullWidth:!0,label:"Rua",name:"street",error:t.street&&!!n.street,helperText:t.street&&n.street})}),(0,l.jsx)(u.ZP,{item:!0,xs:6,children:(0,l.jsx)(K.gN,{as:R.Z,fullWidth:!0,label:"N\xfamero da casa",type:"number",name:"number",error:t.number&&!!n.number,helperText:t.number&&n.number})}),(0,l.jsx)(u.ZP,{item:!0,xs:6,children:(0,l.jsx)(K.gN,{as:R.Z,fullWidth:!0,label:"Bairro",name:"district",error:t.district&&!!n.district,helperText:t.district&&n.district})}),(0,l.jsx)(u.ZP,{item:!0,xs:6,children:(0,l.jsx)(K.gN,{as:R.Z,fullWidth:!0,label:"CEP",name:"postalCode",error:t.postalCode&&!!n.postalCode,helperText:t.postalCode&&n.postalCode})}),(0,l.jsx)(u.ZP,{item:!0,xs:6,children:(0,l.jsx)(K.gN,{as:R.Z,fullWidth:!0,label:"Cidade",name:"city",error:t.city&&!!n.city,helperText:t.city&&n.city})}),(0,l.jsx)(u.ZP,{item:!0,xs:6,children:(0,l.jsx)(K.gN,{as:R.Z,fullWidth:!0,label:"Estado",name:"state",error:t.state&&!!n.state,helperText:t.state&&n.state})}),(0,l.jsx)(u.ZP,{item:!0,xs:6,children:(0,l.jsx)(K.gN,{as:R.Z,fullWidth:!0,label:"Pa\xeds",name:"country",error:t.country&&!!n.country,helperText:t.country&&n.country})})]}),2===o&&(0,l.jsxs)(u.ZP,{container:!0,className:"py-10",spacing:2,children:[(0,l.jsx)(u.ZP,{item:!0,xs:12,children:(0,l.jsxs)(ex,{children:[(0,l.jsx)(eu,{control:(0,l.jsx)(K.gN,{as:ed,name:"paymentMethod",type:"checkbox",value:"dinheiro",checked:"dinheiro"===i.paymentMethod,onChange:function(){return g("dinheiro",i.paymentMethod,r)},icon:(0,l.jsx)(Y.Z,{}),checkedIcon:(0,l.jsx)(H.Z,{})}),label:"Dinheiro"}),(0,l.jsx)(eu,{control:(0,l.jsx)(K.gN,{as:ed,name:"paymentMethod",type:"checkbox",value:"pix",checked:"pix"===i.paymentMethod,onChange:function(){return g("pix",i.paymentMethod,r)},icon:(0,l.jsx)(Y.Z,{}),checkedIcon:(0,l.jsx)(H.Z,{})}),label:"Pix"}),(0,l.jsx)(eu,{control:(0,l.jsx)(K.gN,{as:ed,name:"paymentMethod",type:"checkbox",value:"cartao",checked:"cartao"===i.paymentMethod,onChange:function(){return g("cartao",i.paymentMethod,r)},icon:(0,l.jsx)(Y.Z,{}),checkedIcon:(0,l.jsx)(H.Z,{})}),label:"Cart\xe3o"}),t.paymentMethod&&n.paymentMethod&&(0,l.jsx)(x.Z,{color:"error",children:n.paymentMethod})]})}),(0,l.jsx)(u.ZP,{item:!0,xs:12,children:(0,l.jsx)(K.gN,{as:R.Z,fullWidth:!0,label:"Observa\xe7\xf5es Gerais",name:"observations",multiline:!0,rows:4})})]}),(0,l.jsx)(u.ZP,{item:!0,xs:12,children:(0,l.jsx)(U.Z,{})}),(0,l.jsxs)(u.ZP,{item:!0,justifyContent:"flex-end",className:"mt-3 flex",xs:12,children:[0!==o&&(0,l.jsx)(v.Z,{variant:"text",color:"info",onClick:p,startIcon:(0,l.jsx)(G.Z,{}),style:{marginRight:"10px"},children:"Voltar"}),2!==o?(0,l.jsx)(v.Z,{type:"submit",variant:"contained",className:"flex-1",endIcon:(0,l.jsx)(Q.Z,{}),children:"Avan\xe7ar"}):(0,l.jsx)(v.Z,{type:"submit",variant:"contained",className:"flex-1",endIcon:(0,l.jsx)($.Z,{}),color:"primary",children:"Finalizar Pedido"})]})]})}})})},ef=t(56008),eg=t(26449),ej=t(78620),eb=t(94844),eZ=t(96263),ev=t(35100),ey=t(78361),eP=t(60677),eN=(0,eZ.Z)(m.Z)(function(e){return{backgroundColor:"#1a1a1a",color:"#fff",padding:e.theme.spacing(6,0),marginTop:"auto"}}),eC=(0,eZ.Z)(m.Z)(function(e){var n,t=e.theme;return n={display:"flex",alignItems:"center"},(0,E._)(n,t.breakpoints.up("md"),{justifyContent:"center"}),(0,E._)(n,"marginBottom",t.spacing(2)),n}),e_=(0,eZ.Z)(x.Z)(function(e){var n=e.theme;return(0,E._)({},n.breakpoints.up("md"),{justifyContent:"center",alignItems:"center",textAlign:"center"})}),ek=function(){return(0,l.jsx)(eN,{children:(0,l.jsxs)(p.Z,{maxWidth:"lg",children:[(0,l.jsxs)(u.ZP,{container:!0,spacing:2,children:[(0,l.jsxs)(u.ZP,{item:!0,xs:4,sm:4,children:[(0,l.jsxs)(eC,{children:[(0,l.jsx)(ev.Z,{style:{marginRight:10},sx:{fontSize:{xs:16,sm:24}}}),(0,l.jsx)(x.Z,{variant:"h6",children:"Seguran\xe7a"})]}),(0,l.jsx)(e_,{variant:"body2",children:"Protegemos todos seus dados com tecnologias avan\xe7adas."})]}),(0,l.jsxs)(u.ZP,{item:!0,xs:4,sm:4,children:[(0,l.jsxs)(eC,{children:[(0,l.jsx)(ey.Z,{style:{marginRight:10},sx:{fontSize:{xs:16,sm:24}}}),(0,l.jsx)(x.Z,{variant:"h6",children:"Credibilidade"})]}),(0,l.jsx)(e_,{variant:"body2",children:"Confiabilidade e transpar\xeancia em todas as transa\xe7\xf5es."})]}),(0,l.jsxs)(u.ZP,{item:!0,xs:4,sm:4,children:[(0,l.jsxs)(eC,{children:[(0,l.jsx)(eP.Z,{style:{marginRight:10},sx:{fontSize:{xs:16,sm:24}}}),(0,l.jsx)(x.Z,{variant:"h6",children:"Satisfa\xe7\xe3o"})]}),(0,l.jsx)(e_,{variant:"body2",children:"Garantimos sua satisfa\xe7\xe3o com nossos produtos e servi\xe7os."})]})]}),(0,l.jsx)(m.Z,{className:"flex mt-24 justify-center",children:(0,l.jsx)("img",{src:"/assets/img/logomarca_ama.png",alt:"",height:"",width:"",className:"w-[150px] object-contain"})}),(0,l.jsx)(m.Z,{mt:2,textAlign:"center",children:(0,l.jsxs)(x.Z,{variant:"body2",children:["\xa9 ",new Date().getFullYear()," Amashop. Todos os direitos reservados."]})})]})})},ew=t(79558),eq=t(6936),eI=t(98521),eM=(0,eq.hJ)(eI.db,"Compras"),eS=(0,eq.hJ)(eI.db,"MinhasCompras"),eT=(0,eq.hJ)(eI.db,"Eventos"),eE=(r=(0,i._)(function(e,n,t){var r,i,a,o,l,c,d;return(0,s.Jh)(this,function(s){switch(s.label){case 0:var u,x,m,p,h,f;return r=(0,eq.qs)(eI.db),n&&(i=(0,eq.hJ)(eI.db,"Carrinho","Usuario",t),e.itensCompra.map(function(e){var n=(0,eq.JU)(i,e.idItem);r.delete(n)})),a=(0,eq.JU)(eT),o=(0,eq.JU)(eM),l=(0,eq.JU)(eS,"Usuario",e.uidCliente,o.id),e.id=o.id,c=(null==e?void 0:e.itensCompra[0])?e.itensCompra[0]:null,u=a.id,x=e.nomeCliente,m=e.uidCliente,p=c?c.id:null,h=c?c.nome:null,f=c?c.fotoPrincipal:null,d={id:u,dataHora:Date.now(),tipo:5,titulo:"Nova Compra",conteudo:1,nomeUser:x,uidUser:m,dados:{id:p,nome:h,foto:f,num:0}},r.set(o,e),r.set(l,e),r.set(a,d),[4,r.commit().then(function(){return!0}).catch(function(e){return!1})];case 1:return[2,s.sent()]}})}),function(e,n,t){return r.apply(this,arguments)});function eR(){var e=(0,o._)(["\n  padding: 20px;\n  margin-top: 20px;\n  margin-bottom: 80px;\n  justify-content: space-around;\n  align-items: flex-start;\n"]);return eR=function(){return e},e}function ez(){var e=(0,o._)(["\n  background-color: #f5f5f5;\n  padding: 20px;\n"]);return ez=function(){return e},e}function eW(){var e=(0,o._)(["\n  padding: 20px;\n"]);return eW=function(){return e},e}function eA(){var e=(0,o._)(["\n  order: 2;\n"]);return eA=function(){return e},e}function eF(){var e=(0,o._)(["\n  //font-size: 24px;\n  font-family: sans-serif;\n"]);return eF=function(){return e},e}function eJ(){var e=(0,o._)(["\n  font-size: 20px;\n  margin-bottom: 10px;\n"]);return eJ=function(){return e},e}function eB(){var e=(0,o._)(["\n  font-size: 18px;\n"]);return eB=function(){return e},e}function eD(){var e=(0,o._)(["\n  font-family: 'Lato', sans-serif;\n  font-size: 26px;\n  font-weight: 700;\n  color: #228d57;\n  text-align: center;\n  margin-bottom: 40px;\n"]);return eD=function(){return e},e}var eU=(0,d.ZP)(u.ZP)(eR());(0,d.ZP)(u.ZP)(ez()),(0,d.ZP)(u.ZP)(eW()),(0,d.ZP)(u.ZP)(eA()),(0,d.ZP)(x.Z)(eF()),(0,d.ZP)(x.Z)(eJ()),(0,d.ZP)(x.Z)(eB());var eO=(0,d.ZP)(x.Z)(eD()),eV=function(e,n,t){if(!n)return null;var r=0,i=0,a=0;n.map(function(e){var n=e.valor,t=e.quantidade,o=e.comissao,s=e.cashback;r+=t*n,i+=t*o,a+=t*s});var o=3;switch(e.paymentMethod){case"pix":o=6;break;case"dinheiro":o=2;break;default:o=3}return{endereco:{rua:e.street,numero:e.number,bairro:e.district,cep:e.postalCode,cidade:e.city,estado:e.state,pais:e.country,complemento:""},nomeCliente:e.name,contatoCliente:e.phone,email:e.email,hora:Date.now(),id:"",status:1,itensCompra:n,comissao:Number(i),cashback:Number(a),subtotal:Number(r),total:Number(r+10),taxaEntrega:10,taxaParcelamento:0,formaDePagamento:o,pagamentoOnline:!1,parcelamento:{numero:1,descricao:""},statusPagamento:0,uidVendedor:"",nomeVendedor:"",apelidoVendedor:"",comissaoPaga:!1,uidCliente:t,pagamento:{charges:[],status:"",hora:0}}},eL=function(){(0,ef.usePathname)();var e,n=(0,ef.useSearchParams)(),t=(0,ef.useRouter)(),r=(0,eb.aF)(),o=r.user,d=r.loadingUser,h=r.getUidUserWithEmailAuth,f=(0,a._)((0,c.useState)(0),2);f[0],f[1];var g=(0,a._)((0,c.useState)(void 0),2),j=g[0],b=g[1],Z=(0,a._)((0,c.useState)(void 0),2),v=Z[0],P=Z[1],N=(0,a._)((0,c.useState)(!1),2),C=N[0],_=N[1],k=(e=(0,i._)(function(e){var n,r,i;return(0,s.Jh)(this,function(a){switch(a.label){case 0:if(C)return[2];return _(!0),window.scrollTo({top:0,behavior:"smooth"}),[4,h(e.email,e.name,e.phone)];case 1:if(n=a.sent(),r=!j,!(i=eV(e,v,n)))return[2];return[4,eE(i,r,o.uid)];case 2:return a.sent()&&t.replace("/compra-confirmada"),[2]}})}),function(n){return e.apply(this,arguments)});return((0,c.useEffect)(function(){if(!n.has("prod")){o&&(null==o?void 0:o.uid)||d?o&&(null==o?void 0:o.uid)&&(e=(0,i._)(function(){return(0,s.Jh)(this,function(e){return(0,y._G)(o.uid,function(e){console.log(e),e.length>0?P(e):(P(null),b(null))}),[2]})}),function(){return e.apply(this,arguments)})():t.push("/");return}var e,r,a=n.get("prod");(r=(0,i._)(function(){return(0,s.Jh)(this,function(e){switch(e.label){case 0:if(!a)return b(null),[2];return[4,(0,eg.B)(a).then(function(e){e?(b(e),P([{loja:e.loja,lojaLogo:e.lojaLogo,idLoja:e.idLoja,id:e.id,nome:e.nome,fotoPrincipal:e.fotoPrincipal,peso:e.peso,largura:e.largura,altura:e.altura,comprimento:e.comprimento,valor:Number(e.valor),garantia:e.garantia,modelo:"",quantidade:1,comissao:Number(e.comissao),cashback:Number(e.cashback),idItem:""}])):b(null)})];case 1:return e.sent(),[2]}})}),function(){return r.apply(this,arguments)})()},[n,t,o]),void 0===j&&void 0===v||C)?(0,l.jsx)(m.Z,{className:"py-6 h-full flex flex-col w-full min-h-screen",justifyContent:"center",alignItems:"center",children:(0,l.jsx)(ej.Z,{})}):null===j&&null===v?(0,l.jsxs)(m.Z,{className:"h-full flex flex-col w-full min-h-screen",children:[(0,l.jsx)(T.Z,{elevation:12,position:"sticky",color:"primary"}),(0,l.jsx)(p.Z,{maxWidth:"xl",children:(0,l.jsxs)(m.Z,{className:"py-6 flex h-full flex-col",justifyContent:"center",alignItems:"center",children:[(0,l.jsx)("img",{alt:"produto",src:"/assets/img/illustrations/produto_2.png"}),(0,l.jsx)(x.Z,{className:"font-extralight font-sans text-gray-500",variant:"h2",children:"Carrinho vazio"})]})})]}):(0,l.jsxs)(m.Z,{className:"h-full flex flex-col min-h-screen",children:[!j&&(0,l.jsx)(T.Z,{elevation:12,position:"sticky",color:"primary"}),j&&(0,l.jsx)(ew.Z,{dark:!0,title:"GARANTIA DE SEGURAN\xc7A E SATISFA\xc7\xc3O"}),(0,l.jsx)(m.Z,{className:"flex justify-center",children:(0,l.jsxs)(eU,{spacing:0,container:!0,maxWidth:"xl",children:[(0,l.jsx)(u.ZP,{item:!0,xs:12,children:(0,l.jsx)(eO,{children:"Finalizar Compra"})}),(0,l.jsx)(S,{produto:j,itens:v,setItensCart:P,user:o}),(0,l.jsx)(eh,{finishOrder:k})]})}),(0,l.jsx)(ek,{})]})}},79558:function(e,n,t){"use strict";var r=t(62805),i=t(9268),a=t(64066),o=t(14240),s=t(81771),l=t(95457),c=t(838),d=t(81605);function u(){var e=(0,r._)(["\n    display: flex;\n    flex-direction: row;\n    min-height: 36px;\n    padding: 0;\n    margin: 0;\n"]);return u=function(){return e},e}function x(){var e=(0,r._)(["\n    display: flex;\n    flex: 1;\n    align-items: center;\n    justify-content: center;\n    flex-direction: row;\n"]);return x=function(){return e},e}function m(){var e=(0,r._)(["\n    font-size: 14px;\n    "," {\n        font-size: 12px;\n    }\n    //color: #075E54;\n    color: ",";\n    font-weight: bold;\n    text-align: center;\n    padding-top: 2px;\n    padding-bottom: 2px;\n"]);return m=function(){return e},e}function p(){var e=(0,r._)(["\n    width: 20px;\n    height: 20px;\n    color: #000;\n    margin-right: 6px;\n"]);return p=function(){return e},e}function h(){var e=(0,r._)(["\n    width: 20px;\n    height: 20px;\n    color: #000;\n    margin-right: 6px;\n"]);return h=function(){return e},e}function f(){var e=(0,r._)(["\n    width: 20px;\n"]);return f=function(){return e},e}var g=(0,l.ZP)(a.ZP)(u()),j=(0,l.ZP)(a.ZP)(x()),b=(0,l.ZP)(o.Z)(m(),function(e){return e.theme.breakpoints.down("sm")},function(e){return e.dark?"#fff":"#075E54"});(0,l.ZP)(c.Z)(p()),(0,l.ZP)(d.Z)(h()),(0,l.ZP)(s.Z)(f()),n.Z=function(e){var n=e.title,t=e.dark;return(0,i.jsx)(g,{className:"bg-gradient-to-r ".concat(t?"from-[#039082] via-[#31aa82] to-[#298567]":"from-[#C7FFED] via-[#D8FFDB] to-[#DAFDBA]"),container:!0,children:(0,i.jsx)(j,{children:(0,i.jsx)(b,{dark:t,className:"xs:text-[12px]",children:n})})})}}},function(e){e.O(0,[662,186,522,5,496,627,695,748,204,665,27,253,488,744],function(){return e(e.s=6808)}),_N_E=e.O()}]);